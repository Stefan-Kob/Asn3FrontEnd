<!DOCTYPE html>
<html>

<head>
    <title>Your Cart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <div class="d-flex align-items-center gap-3">
        <h2 class="text-white m-0">Your Cart</h2>
        <div class="d-flex">
            <a href="/emptycart" class="btn btn-outline-light">Empty Cart</a>
            <a href="/" class="btn btn-outline-light">â¬… Back to products</a>
        </div>
    </div>

    <div class="container py-4">

        <!-- Load the total cost of the cart -->
        <% let totalCost=0; cart.forEach(item=> {
            totalCost += item.price * item.quantity;
            });
            %>

            <h3 class="mb-1">Total Items: <%= cart.length %>
            </h3>
            <h4 class="mb-4 ms-3">Total Cost: $<%= totalCost.toFixed(2) %>
            </h4>


            <!-- Load the cart and its items and item details -->
            <ul class="list-group">
                <% cart.forEach(item=> { %>
                    <li class="list-group-item d-flex justify-content-between align-items-center">

                        <div class="d-flex align-items-center gap-3">
                            <img src="<%= item.image %>" width="80" height="80"
                                style="object-fit: contain; border-radius: 8px;">

                            <div>
                                <p class="m-0 fw-bold">
                                    <%= item.name %>
                                </p>
                                <p class="m-0 text-muted">
                                    <%= item.description %>
                                </p>
                                <p class="m-0">$<%= item.price %>
                                </p>
                                <p class="m-0"><strong>Quantity:</strong>
                                    <%= item.quantity %>
                                </p>
                            </div>
                        </div>

                        <form method="POST" action="/remove">
                            <input type="hidden" name="id" value="<%= item.id %>">
                            <button class="btn btn-danger btn-sm">Remove</button>
                        </form>

                    </li>
                    <% }) %>

            </ul>

    </div>

</body>
<footer>
    <p>Created By Josh Lanesmith (8885373), Nakul Upasani (8827362), Stefan Kobetich (8832196)</p>
</footer>

</html>